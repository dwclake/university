     1                                            global  _start
     2                                  
     3                                  
     4                                            section .data
     5 00000000 0C00000000000000        x:        dq      12
     6 00000008 0D00                    y:        dw      13
     7 0000000A 68656C6C6F2C20776F-     message:  db      "hello, world", 10
     7 00000013 726C640A           
     8                                  
     9                                            section .text
    10                                  _start:
    11                                            ;sys_write
    12 00000000 B801000000                        mov     rax, 1
    13 00000005 BF01000000                        mov     rdi, 1
    14 0000000A 488D3425[0A000000]                lea     rsi, message
    15 00000012 BA0D000000                        mov     rdx, 13
    16 00000017 0F05                              syscall
    17                                  
    18                                            ; rev
    19 00000019 FF3425[00000000]                  push    qword [x]
    20                                  
    21 00000020 E836000000                        call    rev
    22                                  
    23 00000025 8F0425[00000000]                  pop     qword [x]
    24                                  
    25                                            ; sum
    26 0000002C 66FF3425[00000000]                push    word [x]
    27 00000034 66FF3425[08000000]                push    word [y]
    28                                  
    29 0000003C E82C000000                        call    sum
    30                                  
    31 00000041 668F0425[08000000]                pop     word [y]
    32 00000049 668F0425[00000000]                pop     word [x]
    33                                  
    34                                            ; sys_exit
    35 00000051 B83C000000                        mov     rax, 60
    36 00000056 4C89CF                            mov     rdi, r9
    37 00000059 0F05                              syscall
    38                                  rev:
    39 0000005B 55                                push    rbp
    40 0000005C 4889E5                            mov     rbp, rsp
    41 0000005F 50                                push    rax
    42                                  
    43 00000060 488B4510                          mov     rax, [rbp + 16]
    44 00000064 48F7D8                            neg     rax
    45 00000067 4989C0                            mov     r8, rax
    46                                            
    47 0000006A 58                                pop     rax
    48 0000006B 5D                                pop     rbp
    49 0000006C C3                                ret
    50                                  sum:   
    51 0000006D 55                                push    rbp
    52 0000006E 4889E5                            mov     rbp, rsp
    53 00000071 53                                push    rbx
    54 00000072 50                                push    rax
    55                                  
    56 00000073 488B5D10                          mov     rbx, [rbp + 16] 
    57 00000077 488B4512                          mov     rax, [rbp + 18]
    58 0000007B 4801D8                            add     rax, rbx
    59 0000007E 4989C1                            mov     r9, rax
    60                                  
    61 00000081 58                                pop     rax
    62 00000082 5B                                pop     rbx
    63 00000083 5D                                pop     rbp
    64 00000084 C3                                ret
